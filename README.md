# Лабораторна робота 8

## Обчислення наближеного значення числа Пі методом Монте-Карло

У цьому завданні вам належить написати паралельну програму, яка обчислює значення числа Пі. Метод обчислення дуже простий:

- Площа квадрата одиничної довжини дорівнює 1
- Площа сектора 90 ° для одиничного кола: π/4 
- «Кидаємо» величезну кількість випадкових точок в одиничний квадрат
- Рахуємо кількість точок, що потрапили в межі кола, тобто відстань від яких до (0,0) менше або дорівнює 1
- Частка точок, які потрапили в коло дорівнює наближеному значенню π/4

**Деталі реалізації**

Ваше завдання написати паралельну реалізацію (ParallelMonteCarloPi.java). При написанні програми дотримуйтесь інструкцій:

- Першим і єдиним вхідним аргументом програми є кількість потоків
- В результаті програма виводить наступні дані:

	PI is 3.14221
	THREADS 8
	ITERATIONS 1,000,000,000 
	TIME 12.83ms

**Крім написання програми і виведення результату подумайте над наступними питаннями:**

1. *Як впливає кількість ітерацій (кинутих точок) на кінцевий результат?*

При більшій кількості ітерацій, кінцевий результат стає точнішим (наближеним до 3.14), тестування були виконані для 12 потоків. 
При малих значеннях кинутих точок (100 - 1000), значення приблизно дорівнюють 3.0, можуть опускатися і нижче, але можуть підійматися і до значень 3.2 - 3.3.
При 10000 точках, значення можуть перевищувати 3.14.
При 100000 - 1000000 точках, значення коливаються в районі 3.13 - 3.14.
При більше ніж 10000000 точках, значення стабільно починають дорівнювати 3.14.

2. *При однаковій кількості точок і випадковому зерні, як впливає на результат різну кількість потоків?*

Для 1000000000 ітерацій, кількість потоків не впливає суттєвим чином на результат (стабільно 3.141 - 3.142).
При 10000000 ітераціях, pi коливається від 1.140 - 1.142, але кількість потоків також не відіграє великого значення.
Для малої кількості кинутих точок, кількість потоків також несуттєво впливають на розподілення результатів.
При умові, якщо кількість потоків більша за кількість ітерацій, результат дорівнює нулю (тому була додана виключна ситуація).

3. *Як кількість потоків впливає на продуктивність вашої програми? (Для явних результатів вам ймовірно знадобиться набагато більша кількість семплів (ітерацій).*

Для малої кількості ітерацій, збільшення кількості потоків лише призводить до збільшення часу виконання програми.
Для кількості ітерацій 100000 збільшення потоків до 20 не сильно впливає на час виконання, після чого час починає збільшуватися.
Для кількості ітерацій 1000000 діють такі ж правилі, як і для першого випадку.
Для 10000000 ітерацій, збільшення потоків до 10 невключно зменшує кількість часу, далі - збільшує в порівнянні з 1 ітерацією. 
Для 100000000 ітерацій, збільшення кількості потоків поступово прискорює програму. При використанні 8 - 29 потоків, програма прискорюється майже у 4 рази, після чого поступово починає сповільнюватися. При чому програма можу працювати швидше при декількох сотнях, ніж при 1.
Для 1000000000 ітерацій, програма найоптимальніше працює при 10 - 90 потоків. При цьому тисячі або навіть десятки тисяч потоків (40000) можуть працювати оптимальніше, ніж 1.